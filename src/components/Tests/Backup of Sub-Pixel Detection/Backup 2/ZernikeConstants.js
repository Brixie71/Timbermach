/**
 * Constants and lookup tables for Zernike moment calculations
 * 
 * This module provides pre-calculated Zernike polynomial masks
 * that are used in the calculation of Zernike moments for
 * sub-pixel edge detection.
 */

// Zernike polynomials constants for 7x7 neighborhoods
export const ZERPOLY00 = [
    [0, 0.0287, 0.0686, 0.0807, 0.0686, 0.0287, 0],
    [0.0287, 0.0815, 0.0816, 0.0816, 0.0816, 0.0815, 0.0287],
    [0.0686, 0.0816, 0.0816, 0.0816, 0.0816, 0.0816, 0.0686],
    [0.0807, 0.0816, 0.0816, 0.0816, 0.0816, 0.0816, 0.0807],
    [0.0686, 0.0816, 0.0816, 0.0816, 0.0816, 0.0816, 0.0686],
    [0.0287, 0.0815, 0.0816, 0.0816, 0.0816, 0.0815, 0.0287],
    [0, 0.0287, 0.0686, 0.0807, 0.0686, 0.0287, 0]
  ];
  
  export const ZERPOLY11R = [
    [0, -0.015, -0.019, 0, 0.019, 0.015, 0],
    [-0.0224, -0.0466, -0.0233, 0, 0.0233, 0.0466, 0.0224],
    [-0.0573, -0.0466, -0.0233, 0, 0.0233, 0.0466, 0.0573],
    [-0.069, -0.0466, -0.0233, 0, 0.0233, 0.0466, 0.069],
    [-0.0573, -0.0466, -0.0233, 0, 0.0233, 0.0466, 0.0573],
    [-0.0224, -0.0466, -0.0233, 0, 0.0233, 0.0466, 0.0224],
    [0, -0.015, -0.019, 0, 0.019, 0.015, 0]
  ];
  
  export const ZERPOLY11I = [
    [0, -0.0224, -0.0573, -0.069, -0.0573, -0.0224, 0],
    [-0.015, -0.0466, -0.0466, -0.0466, -0.0466, -0.0466, -0.015],
    [-0.019, -0.0233, -0.0233, -0.0233, -0.0233, -0.0233, -0.019],
    [0, 0, 0, 0, 0, 0, 0],
    [0.019, 0.0233, 0.0233, 0.0233, 0.0233, 0.0233, 0.019],
    [0.015, 0.0466, 0.0466, 0.0466, 0.0466, 0.0466, 0.015],
    [0, 0.0224, 0.0573, 0.069, 0.0573, 0.0224, 0]
  ];
  
  export const ZERPOLY20 = [
    [0, 0.0225, 0.0394, 0.0396, 0.0394, 0.0225, 0],
    [0.0225, 0.0271, -0.0128, -0.0261, -0.0128, 0.0271, 0.0225],
    [0.0394, -0.0128, -0.0528, -0.0661, -0.0528, -0.0128, 0.0394],
    [0.0396, -0.0261, -0.0661, -0.0794, -0.0661, -0.0261, 0.0396],
    [0.0394, -0.0128, -0.0528, -0.0661, -0.0528, -0.0128, 0.0394],
    [0.0225, 0.0271, -0.0128, -0.0261, -0.0128, 0.0271, 0.0225],
    [0, 0.0225, 0.0394, 0.0396, 0.0394, 0.0225, 0]
  ];
  
  export const ZERPOLY40 = [
    [0, 0.013, 0.0056, -0.0018, 0.0056, 0.013, 0],
    [0.0130, -0.0186, -0.0323, -0.0239, -0.0323, -0.0186, 0.0130],
    [0.0056, -0.0323, 0.0125, 0.0406, 0.0125, -0.0323, 0.0056],
    [-0.0018, -0.0239, 0.0406, 0.0751, 0.0406, -0.0239, -0.0018],
    [0.0056, -0.0323, 0.0125, 0.0406, 0.0125, -0.0323, 0.0056],
    [0.0130, -0.0186, -0.0323, -0.0239, -0.0323, -0.0186, 0.0130],
    [0, 0.013, 0.0056, -0.0018, 0.0056, 0.013, 0]
  ];
  
  // Additional polynomial constants for higher-order Zernike moments
  export const ZERPOLY22R = [
    [0, 0.0168, 0.0261, 0, -0.0261, -0.0168, 0],
    [0.0168, 0.0287, 0.0127, 0, -0.0127, -0.0287, -0.0168],
    [0.0261, 0.0127, -0.0245, 0, 0.0245, -0.0127, -0.0261],
    [0, 0, 0, 0, 0, 0, 0],
    [-0.0261, -0.0127, 0.0245, 0, -0.0245, 0.0127, 0.0261],
    [-0.0168, -0.0287, -0.0127, 0, 0.0127, 0.0287, 0.0168],
    [0, -0.0168, -0.0261, 0, 0.0261, 0.0168, 0]
  ];
  
  export const ZERPOLY22I = [
    [0, 0.0168, 0.0261, 0, -0.0261, -0.0168, 0],
    [-0.0168, -0.0287, -0.0127, 0, 0.0127, 0.0287, 0.0168],
    [-0.0261, -0.0127, 0.0245, 0, -0.0245, 0.0127, 0.0261],
    [0, 0, 0, 0, 0, 0, 0],
    [0.0261, 0.0127, -0.0245, 0, 0.0245, -0.0127, -0.0261],
    [0.0168, 0.0287, 0.0127, 0, -0.0127, -0.0287, -0.0168],
    [0, -0.0168, -0.0261, 0, 0.0261, 0.0168, 0]
  ];
  
  // Pre-calculated weights for edge detection
  export const EDGE_WEIGHTS = {
    NORMAL: 1.0,
    MAJOR: 1.5,
    MINOR: 0.8
  };
  
  // Thresholds for Zernike moment-based edge parameters
  export const DEFAULT_THRESHOLDS = {
    DISTANCE: 0.4,     // Maximum distance from center (l)
    CONTRAST: 10.0,    // Minimum contrast (k)
    QUALITY: 0.75      // Minimum quality factor
  };
  
  // Constant for scaling sub-pixel positions
  export const SUBPIXEL_SCALING_FACTOR = 7 / 2; // For 7x7 neighborhood